<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Rapports de radio</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 40px;
      background: url('images/fond2.jpg') no-repeat center center fixed;
      background-size: cover;
      color: rgba(255, 255, 255, 0.8);
    }

    h1, h2, h3 {
      color: rgba(255, 255, 255, 0.8);
    }

    ul {
      list-style: none;
      padding: 0;
    }

    li {
      margin: 10px 0;
    }

    a {
      color: rgba(255, 255, 255, 0.8);
      text-decoration: none;
      font-weight: bold;
      cursor: pointer;
    }

    a:hover {
      text-decoration: underline;
    }

    /* Modal styles */
    #modal {
      display: none;
      position: fixed;
      z-index: 999;
      left: 0; top: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.8);
      justify-content: center;
      align-items: center;
    }

    #modalContent {
      background: white;
      color: black;
      padding: 20px;
      max-width: 90%;
      max-height: 80%;
      overflow: auto;
      border-radius: 10px;
      font-family: Arial, sans-serif;
      font-size: 10pt;
    }

    #modal button {
      margin-top: 10px;
      padding: 8px 16px;
      font-size: 14px;
      font-family: Arial, sans-serif;
    }

    #closeBtn {
      position: absolute;
      top: 20px;
      right: 30px;
      font-size: 24px;
      color: white;
      cursor: pointer;
    }

    /* Footer */
    footer {
      position: fixed;
      bottom: 10px;
      left: 0;
      width: 100%;
      text-align: center;
      font-size: 12px;
      color: rgba(255, 255, 255, 0.5);
      font-family: Arial, sans-serif;
    }

    footer a {
      color: rgba(255, 255, 255, 0.7);
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <h1>US</h1>
  <ul>
    <li><a onclick="loadReport('rapports/US_abdomen_complet.html')">US abdomen complet</a></li> 
    <li><a onclick="loadReport('rapports/US_doppler_renal.html')">US doppler rénal</a></li>
    <li><a onclick="loadReport('rapports/US_testis.html')">US testis</a></li>
    <li><a onclick="loadReport('rapports/US_thyroid.html')">US thyroid</a></li>  
  </ul>

  <h2>CT</h2>
  <ul>
    <li><a onclick="loadReport('rapports/ct_na.html')">n.a.</a></li> 
  </ul>

  <h3>MRI</h3>
  <ul>
    <li><a onclick="loadReport('rapports/mri_na.html')">n.a.</a></li> 
  </ul>

  <!-- Modal -->
  <div id="modal">
    <div id="closeBtn" onclick="closeModal()">×</div>
    <div id="modalContent">
      <button onclick="copyToClipboard()">Copier le texte</button>
      <div id="reportText">Chargement...</div>
    </div>
  </div>

  <!-- Footer -->
  <footer>
    <p>Chablons adaptés des collègues chuviens et de <a href="https://www.radrap.ch" target="_blank">RadRap.ch</a></p>
  </footer>

  <script>
    function loadReport(path) {
      fetch(path)
        .then(response => response.text())
        .then(html => {
          document.getElementById('reportText').innerHTML = html;
          document.getElementById('modal').style.display = 'flex';
        });
    }

    function closeModal() {
      document.getElementById('modal').style.display = 'none';
    }

    function copyToClipboard() {
      const range = document.createRange();
      const selection = window.getSelection();
      const reportDiv = document.getElementById('reportText');
      range.selectNodeContents(reportDiv);
      selection.removeAllRanges();
      selection.addRange(range);
      document.execCommand('copy');
      alert('Texte copié dans le presse-papier avec la mise en forme !');
    }
  </script>
</body>
</html>
